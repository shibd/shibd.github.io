---
layout:     post
title:      分布式推送中心(一)- 基于Spring Websocket Stomp的设计
subtitle:   使用Spring Websocket Stomp协议设计推送中心
date:       2019-08-15
author:     baozi
header-img: img/2019-08-15(Message-Center)/top-ux.jpg
catalog: true 						
tags:								
    - Java
    - 架构
---

## 目录

- 推送中心建设难点，面临问题，技术手段

- 分布式Websocket推送中心（一）- Spring Websocket Stomp介绍
经过测试该推送中心可以支持百万级链接，服务高可用，对业务方透明
```
什么是websocket
什么是spring websocket stomp
官方demo介绍
技术选型，为什么选用webocket,为什么选用Spring Websocket Stomp
```

- 分布式Websocket推送中心（一）- 基于Stomp的推送中心设计
```
提出推送中心的需求，目标
架构图
如何使用
鉴权流程，使用流程等等
    拦截方案1，拦截方案2等
    关于如何防御DDos攻击的问题
```

- 分布式Websocket推送中心（一）- Websocket协议安全解析等
```
是否要设计。。。。
```

这两篇内容明确
- 分布式Websocket推送中心（一）- 单机服务100W连接(C1000K)目标达成
```
原理介绍，服务器要达到100W连接的瓶颈在哪里
优化步骤
一步一步介绍
```

- 分布式Websocket推送中心（一）- 分布式架构方案设计落地
```
三种架构图
提出三种架构方案：
1. nginx代理，高可用最多支持6W连接
2. 直连websocket服务，前端使用注册发现机制，建立连接前先找管理端要websocket服务的地址
3. 使用LVS的DR负载均衡模式，突破单机连接60K的端口瓶颈
```

